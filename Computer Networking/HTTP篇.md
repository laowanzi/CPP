## HTTP基本概念

***

### HTTP是什么？

HTTP是超文本传输协议，也就是HyperText Transfer Protocol

超文本：超越了普通文本的文本，超文本中有其他文本的链接

### HTTP常见的状态码有哪些？

| 状态码分类 | 具体含义   | 常见的状态码 |
| ---------- | ---------- | ------------ |
| 1xx        | 提示信息   |              |
| 2xx        | 成功       |              |
| 3xx        | 重定向     |              |
| 4xx        | 客户端错误 |              |
| 5xx        | 服务器错误 |              |

###  HTTP常见字段

* `Host`：表示域名
* `Content-Length`：数据长度（单位：字节）
* `Connection`：是否保持连接
* `Content-Type`：本次数据的格式
* `Content-Encoding`：说明数据的压缩方法
* `Accept-Encoding`：接受的压缩方法

## GET和POST

### 两者的区别

GET的语义是从服务器获取指定的资源

POST的语义是根据请求负荷（报文body）对指定的资源做出处理

在HTTP协议中，安全是指不会破坏服务器上的资源，幂等是指多次执行同样的操作，结果都是相同的

根据RFC规范的语义，GET方式是安全的，幂等的，可被缓存的

POST方式是不安全，不幂等，（大部分）不可缓存的

## HTTP缓存技术

强制缓存：只要浏览器判断缓存没有过期，则直接使用浏览器的本地缓存，主动权在浏览器这边

强缓存使用响应头部`Cache-Control`和`Expires`

`Cache-Control`：是一个相对时间，**优先级更高**，选项更多，设置更加精细，所以推荐使用

`Expires`：是一个绝对时间

协商缓存：未命中强制缓存时才能发起带有协商缓存字段的请求

第一种：请求头部中的 `If-Modified-Since` 字段与响应头部中的 `Last-Modified` 字段实现

第二种：请求头部中的 `If-None-Match` 字段与响应头部中的 `ETag` 字段

 `ETag` 信息优先级比 `Last-Modified` 高

第二次收到请求时，服务端比较ETag

* 值相等，发送304
* 不相等，发送200并且返回最新的资源

## HTTP特性

### 优点

简单、灵活和易于扩展、应用广泛和跨平台

1. 基本的报文格式就是`header + body`，头部信息也是`key-value`的形式

### 缺点

无状态、明文传输、不安全

不安全

* 通信使用明文
* 不验证通信方的身份
* 无法证明报文的完整性

### 性能

* 长连接：减少了TCP连接的重复建立和断开所造成的额外开销，减轻了服务器端的开销
* 管道网络传输：实际上没有被使用
* 队头阻塞：请求序列的一个请求被阻塞，后面排队的请求也受影响

## HTTP与HTTPS

### 区别

* HTTPS是加密版本，在TCP和网络层之间加入SSL/TLS安全协议
* HTTPS还需进行SSL/TSL的握手过程
* 端口号不同，HTTP默认端口号是80，HTTPS默认端口号是443
* HTTPS需要向CA申请数字证书

### HTTPS解决了HTTP的哪些问题？

* 窃听风险
* 篡改风险
* 冒充风险

采用以下手段：

* 信息加密：混合加密的方式
* 校验机制：用摘要算法实现完整性
* 身份证书：将服务器公钥放到数字证书中

