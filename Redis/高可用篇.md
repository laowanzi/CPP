## 主从复制

Redis 有 AOF 和 RDB 两种持久化策略，但是单点故障仍然可能发生，解决这个问题最好的办法是将数据备份到其他服务器上。

多台服务器保存同一份数据，就引出两个问题：

1.服务器之间的数据如何保持一致？

2.数据的读写操作是每台服务器都可以处理的吗？

Redis 提供了**主从复制**模式，来避免上面的问题。

主服务器可以进行读写操作，当发生写操作时将写操作同步给服务器，而从服务器一般是只读，接受主服务器同步的写操作命令并执行。

![2b7231b6aabb9a9a2e2390ab3a280b2d-20230309232920063](C:\Users\Zhang Wan\Desktop\学习笔记\Redis\Pictures\2b7231b6aabb9a9a2e2390ab3a280b2d-20230309232920063.webp)

### 第一次同步

使用`replicaof`（Redis 5.0 之前使用 slaveof）命令形成主服务器和从服务器的关系。