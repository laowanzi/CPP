## 事务篇

#### 特性

* **原子性（Atomicity）**：一个事务中的所有操作，要么全部完成，要么全部不完成
* **一致性（Consistency）**：事务操作前和操作后，数据满足完整性约束，数据库保持一致性状态
* **隔离性（Isolation）**：数据库允许多个并发事务同时对其数据进行读写和修改的能力
* **持久性（Durability）**：事务处理结束后，对数据的修改就是永久的

在`InnoDB`引擎中

* 持久性是通过redo log（重做日志）来保证的
* 原子性是通过undo log （回滚日志）来保证的
* 隔离性是通过MVCC（多版本并发控制）或锁机制来保证的
* 一致性通过持久性+原子性+隔离性来保证

#### 并行事务会引发的问题

* **脏读**：一个事务读到了另一个未提交事务修改过的数据
* **不可重复读**：其他事务修改或删除了新的行，导致同一个查询语句返回的结果不同
* **幻读**：其他事务**插入**了新的行